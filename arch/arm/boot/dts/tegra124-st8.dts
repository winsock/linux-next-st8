/dts-v1/;

#include "panel-a-wuxga-8-0.dtsi"
#include <dt-bindings/input/input.h>
#include "tegra124.dtsi"

/ {
	model = "NVIDIA SHIELD Tablet";
	compatible = "nvidia,st8", "nvidia,tegra124";

	aliases {
		rtc0 = "/i2c@0,7000d000/pmic@40";
		rtc1 = "/rtc@0,7000e000";
        display0 = &dc0;
	};

	chosen {
		bootargs = "tegraid=40.0.0.00.00 console=tty1 gpt fbcon=rotate:2 earlyprintk clk_ignore_unused";
		linux,initrd-start = <0x81680000>;
		linux,initrd-end = <0x82800000>;
        framebuffer0: framebuffer@ad012000 {
            compatible = "simple-framebuffer";
            reg = <0x0 0xad012000 0x0 (1216 * 1920 * 4)>;
            width = <1200>;
            height = <1920>;
            stride = <(1216 * 4)>;
            format = "a8b8g8r8";
            clocks = <&tegra_car TEGRA124_CLK_HOST1X>;
            display = <&dc0>;
        };
        stdout-path = &framebuffer0;
	};

	memory {
		reg = <0x0 0x80000000 0x0 0x2d000000
		       0x0 0xae000000 0x0 0x30000000>;
	};

    host1x@50000000 {
        /* tegradc.0 */
        dc0: dc@54200000 {
            status = "okay";
            nvidia,dc-flags = <TEGRA_DC_FLAG_ENABLED>;
            nvidia,emc-clk-rate = <204000000>;
            nvidia,cmu-enable = <1>;
            nvidia,low-v-win = <0x2>;
            nvidia,fb-bpp = <32>; /* bits per pixel */
            nvidia,fb-flags = <TEGRA_FB_FLIP_ON_PROBE>;
        };
        /* tegradc.1 */
        dc@54240000 {
            status = "okay";
            nvidia,dc-flags = <TEGRA_DC_FLAG_ENABLED>;
            nvidia,emc-clk-rate = <300000000>;
            nvidia,fb-bpp = <32>; /* bits per pixel */
            nvidia,fb-flags = <TEGRA_FB_FLIP_ON_PROBE>;
        };
        dsi {
            panel-a-wuxga-8-0 {
                nvidia,dsi-dpd-pads = <DSIC_DPD_EN DSID_DPD_EN>;
                nvidia,dsi-boardinfo = <1761 0 0 1>;
                nvidia,panel-rst-gpio = <&gpio TEGRA_GPIO(N, 4) 0>; /* PN4 */
                nvidia,panel-bl-pwm-gpio = <&gpio TEGRA_GPIO(H, 1) 0>; /* PH1 */
                disp-default-out {
                    nvidia,out-rotation = <180>;
                };
            };
        };
    };
};


